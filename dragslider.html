<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlusÂ®">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;list-style:none;}
        body{width: 100%;height: 100vh;}

        .slider-holder{
            position:relative;
            width: 100%;
            height: 100%;
            overflow:hidden
        }
        /*  .container{
              padding: 0 5%;
              max-width: 1718px;
              position: relative;
              margin: 0 auto;
              width: 100%;
              height: 100%;
          }*/
        .slider-holder ul{
            position:absolute;
            width: 100%;
            margin-left:10%;
        }
        .slider-holder ul li{
            position:absolute;
            width: 80%;
            padding:0 5%;
            box-sizing:border-box;
        }
        .slider-holder ul li img{
            width: 100%;
            filter:brightness(60%);
        }
        .slider-holder span{
            position: absolute;
            top: 20%;left: 50%;
            transform: translateX(-50%);
            font-size: 20em;
            z-index: 10;
            color:#fff;
        }

    </style>
</head>
<body>
<div class="slider-holder" id="space-slider-1">
    <div class="container">
        <div class="content">
            <ul class="container-slider">
                <li><img src="img/test.png"></li>
                <li><img src="img/test.png"></li>
                <li><img src="img/test.png"></li>
                <li><img src="img/test.png"></li>
                <li><img src="img/test.png"></li>
                <li><img src="img/test.png"></li>
            </ul>
            <span></span>
        </div>
    </div>
</div>
<script>

    const sliderHolder = document.querySelector('.slider-holder');
    const containerSlider = sliderHolder.querySelector('.container-slider')
    const slides = containerSlider.querySelectorAll('li')
    const number = sliderHolder.querySelector('span')


    for(var i =0; i<slides.length;i++){
        slides[i].style.left=i*80+'%'
    }


    /***************************************************************************/

    let downX =0;
    let lastX = 0;
    let currentX = 0;
    let moveX = 0;
    let idxX = 0;
    let isAnimation = false;

    /***************************************************************************/
    function setX(){
        if (currentX<0){
            currentX=0;
        }
        if (currentX>slides[0].offsetWidth * (slides.length -1) ){
            currentX=slides[0].offsetWidth * (slides.length -1)
        }
        if (isAnimation) {
            containerSlider.style.transition = 'left 0.4s ease-out';
        } else {
            containerSlider.style.transition = 'left 0.0s ease-out';
        }
        containerSlider.style.left = -currentX +'px';
        number.textContent = idxX+1
    }

    function mouseDown(e){
        e.preventDefault();
        downX = e.clientX;
        lastX = e.clientX+currentX;
        isAnimation = false;

        containerSlider.addEventListener('mousemove', mouseMove)
    }

    function mouseMove(e){
        moveX = downX - e.clientX;
        currentX = lastX - e.clientX;
        setX();
        /*containerSlider.style.left = ''*/
    }

    function mouseUp(e){
        if (moveX > 0){
            idxX =Math.ceil(currentX/slides[0].offsetWidth);
        }else{
            idxX =Math.floor(currentX/slides[0].offsetWidth);
        }
        currentX = idxX*slides[0].offsetWidth;
        isAnimation = true;
        setX();
        containerSlider.removeEventListener('mousemove', mouseMove )
    }

    function mouseLeave(){
        containerSlider.removeEventListener('mousemove', mouseMove )
    }

    /***************************************************************************/

    containerSlider.addEventListener('mousedown', mouseDown )
    containerSlider.addEventListener('mouseup', mouseUp )
    containerSlider.addEventListener('mouseleave', mouseLeave )

</script>
</body>
</html>
